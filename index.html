<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Differential Justice Framework: An Interactive Explainer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Scholarly Teal & Amber -->
    <!-- Application Structure Plan: The application uses a narrative, single-page flow: Hero -> Problem -> Core Concept Bridge -> Interactive Simulation -> Significance/Limitations -> Conclusion. This structure was chosen to guide the user from the "why" (the problem) to the "how" (the concepts) to the "what if" (the simulation), making a complex theoretical idea tangible and engaging. The simulation is the centerpiece, allowing users to experience the framework's logic rather than just read about it, which is more effective for understanding and retention than a simple linear summary of the source paper. -->
    <!-- Visualization & Content Choices: 
        - Problem Section: Goal: Inform. Method: Animated counters to show the scale of algorithmic governance. Justification: Creates an immediate, impactful understanding of the problem's scope.
        - Concept Bridge: Goal: Organize & Explain. Method: An interactive two-column layout. Clicking a philosophical term reveals its computational analogue. Justification: Directly maps the paper's core synthesis in an intuitive, discoverable way. Library: HTML/CSS/JS.
        - Interactive Simulation: Goal: Analyze & Compare. Method: User-controlled sliders updating multiple Chart.js visualizations (Donut and Bar charts) and a summary "Justice Score". Justification: This is the core interactive element. It allows users to actively test policy scenarios and see the framework's logic in action, making the abstract concept of a "cost function" concrete. Library: Chart.js.
        - Significance & Limitations: Goal: Inform. Method: A clean, tabbed interface. Justification: Organizes dense but important secondary information in a compact, user-friendly format, preventing cognitive overload. Library: HTML/CSS/JS.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. All visuals are built with Chart.js, HTML, and Tailwind CSS. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #1f2937;
        }
        .chart-container {
            position: relative;
            width: 100%;
            height: 280px;
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
        }
        @media (min-width: 640px) {
            .chart-container {
                height: 320px;
            }
        }
        .nav-link {
            transition: color 0.3s ease, border-bottom-color 0.3s ease;
            border-bottom: 2px solid transparent;
        }
        .nav-link:hover, .nav-link.active {
            color: #0d9488;
            border-bottom-color: #0d9488;
        }
        .concept-btn {
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }
        .concept-btn.active {
            background-color: #0d9488;
            border-color: #0d9488;
            color: white;
        }
        .tab-btn.active {
            background-color: #0d9488;
            color: white;
        }
        .content-pane {
            display: none;
        }
        .content-pane.active {
            display: block;
        }
        [data-value] {
            transition: color 0.5s ease-in-out;
        }
    </style>
</head>
<body class="bg-slate-50">

    <header class="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <h1 class="text-xl font-bold text-teal-700">The DJF Explainer</h1>
            <div class="hidden md:flex space-x-8">
                <a href="#problem" class="nav-link pb-1">The Problem</a>
                <a href="#bridge" class="nav-link pb-1">The Idea</a>
                <a href="#simulation" class="nav-link pb-1">Simulation</a>
                <a href="#implications" class="nav-link pb-1">Implications</a>
            </div>
        </nav>
    </header>

    <main>
        <section id="hero" class="py-20 bg-white">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-4xl md:text-5xl font-bold text-gray-800 mb-4">Bridging Justice and Data</h2>
                <p class="text-lg md:text-xl text-gray-600 max-w-3xl mx-auto">
                    Exploring the Differential Justice Framework: A proposal to embed philosophical principles of fairness directly into the algorithms that shape public policy.
                </p>
            </div>
        </section>

        <section id="problem" class="py-16">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold mb-2">The Normative Deficit in Governance</h3>
                    <p class="text-lg text-gray-600 max-w-3xl mx-auto">As governments increasingly rely on algorithms for critical decisions, a dangerous gap has emerged. Systems are optimized for efficiency but often lack a clear moral compass, operating without a coherent theory of justice. This section introduces the core challenge the Differential Justice Framework aims to solve.</p>
                </div>
                <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8">
                    <p class="text-gray-700 text-lg text-center leading-relaxed">High-stakes public decisions in areas like healthcare, criminal justice, and welfare are increasingly shaped by complex computational systems. This shift risks eroding democratic accountability when the logic behind these decisions is hidden inside a "black box." The challenge is not just to make algorithms more accurate, but to make them more just and their justifications understandable to the public.</p>
                </div>
            </div>
        </section>

        <section id="bridge" class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold mb-2">The Bridge: Philosophy Meets Code</h3>
                    <p class="text-lg text-gray-600 max-w-3xl mx-auto">The framework's core innovation is translating abstract philosophical concepts into concrete computational components. This section interactively demonstrates how the principles from John Rawls's *A Theory of Justice* are mapped to the formalisms of Bayesian statistics and machine learning. Click on a concept to see its computational counterpart.</p>
                </div>
                <div class="flex flex-col md:flex-row gap-8 max-w-6xl mx-auto">
                    <div class="md:w-1/3">
                        <h4 class="font-bold text-xl mb-4 text-center md:text-left">Philosophical Concepts (Rawls)</h4>
                        <div id="concepts-list" class="flex flex-col space-y-3">
                            <!-- Concept buttons will be dynamically inserted here -->
                        </div>
                    </div>
                    <div class="md:w-2/3 bg-slate-50 rounded-xl p-8 transition-all duration-500 min-h-[300px]">
                        <div id="concept-details">
                            <!-- Details will be dynamically shown here -->
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="simulation" class="py-16">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold mb-2">Framework in Action: A Policy Simulation</h3>
                    <p class="text-lg text-gray-600 max-w-4xl mx-auto">This interactive dashboard provides a simplified simulation of how the Differential Justice Framework could be used to evaluate policy. Here, we test a Universal Basic Income (UBI) proposal. By adjusting the policy levers, you can see in real-time how the changes might affect societal fairness according to Rawlsian principles. This makes the abstract process of the framework tangible.</p>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 items-start">
                    <div class="lg:col-span-1 bg-white p-6 rounded-xl shadow-lg">
                        <h4 class="font-bold text-xl mb-4">Policy Levers</h4>
                        <div class="space-y-6">
                            <div>
                                <label for="ubi-slider" class="block font-medium mb-1">UBI Amount ($ per month)</label>
                                <input id="ubi-slider" type="range" min="0" max="1500" value="500" step="50" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <div class="text-right font-semibold text-teal-700 mt-1">$<span id="ubi-value">500</span></div>
                            </div>
                            <div>
                                <label for="tax-slider" class="block font-medium mb-1">Funding Tax Rate (%)</label>
                                <input id="tax-slider" type="range" min="0" max="10" value="3" step="0.5" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
                                <div class="text-right font-semibold text-teal-700 mt-1"><span id="tax-value">3.0</span>%</div>
                            </div>
                        </div>
                         <div class="mt-8 text-center bg-teal-50 border-l-4 border-teal-500 p-4 rounded">
                            <h5 class="font-bold text-lg text-teal-800">Overall Justice Score</h5>
                            <p id="justice-score" class="text-4xl font-bold text-teal-600 mt-2" data-value="0">75</p>
                            <p class="text-sm text-teal-700 mt-1">Based on maximizing welfare for the least advantaged.</p>
                        </div>
                    </div>
                    
                    <div class="lg:col-span-2 bg-white p-6 rounded-xl shadow-lg">
                       <h4 class="font-bold text-xl mb-4 text-center">Simulated Outcomes</h4>
                       <p id="simulation-context" class="text-center text-gray-600 mb-6 min-h-[40px]">This policy provides a moderate boost to the least advantaged.</p>
                       <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                           <div>
                               <h5 class="font-semibold text-center mb-2">Welfare of Least Advantaged</h5>
                               <div class="chart-container">
                                   <canvas id="welfareChart"></canvas>
                               </div>
                           </div>
                           <div>
                               <h5 class="font-semibold text-center mb-2">Overall Societal Welfare</h5>
                               <div class="chart-container">
                                   <canvas id="societalChart"></canvas>
                               </div>
                           </div>
                       </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="implications" class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h3 class="text-3xl font-bold mb-2">Significance & Limitations</h3>
                     <p class="text-lg text-gray-600 max-w-3xl mx-auto">Any powerful tool requires careful consideration of its use. This section outlines the framework's potential benefits for democratic policymaking, while also transparently addressing its critical limitations and the risks of misuse. Understanding both sides is essential for responsible innovation.</p>
                </div>
                <div class="max-w-4xl mx-auto">
                    <div class="mb-4 flex justify-center border-b border-gray-200">
                        <button class="tab-btn px-6 py-2 font-medium text-lg text-gray-600 transition-colors duration-300" data-tab="significance">Significance</button>
                        <button class="tab-btn px-6 py-2 font-medium text-lg text-gray-600 transition-colors duration-300" data-tab="limitations">Limitations</button>
                    </div>
                    <div id="significance-content" class="content-pane p-6">
                         <ul class="space-y-4 text-lg text-gray-700">
                            <li class="flex items-start">
                                <span class="text-teal-500 font-bold mr-3 mt-1">✓</span>
                                <div><strong class="font-semibold text-gray-800">Proactive Fairness Auditing:</strong> Allows policymakers to test the fairness of policies *before* they are implemented, identifying and mitigating harm in the design phase rather than reacting to it later.</div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-teal-500 font-bold mr-3 mt-1">✓</span>
                                <div><strong class="font-semibold text-gray-800">Illuminating Trade-offs:</strong> Makes the value-based choices and trade-offs in any policy decision explicit and quantifiable, fostering a more honest and rigorous public debate about societal priorities.</div>
                            </li>
                             <li class="flex items-start">
                                <span class="text-teal-500 font-bold mr-3 mt-1">✓</span>
                                <div><strong class="font-semibold text-gray-800">Enhancing Accountability:</strong> Transforms the "black box" of algorithmic governance into a transparent "glass box," providing a common, evidence-based language for citizens to understand and contest policy logic.</div>
                            </li>
                        </ul>
                    </div>
                    <div id="limitations-content" class="content-pane p-6">
                        <ul class="space-y-4 text-lg text-gray-700">
                            <li class="flex items-start">
                                <span class="text-amber-500 font-bold mr-3 mt-1">!</span>
                                <div><strong class="font-semibold text-gray-800">Data and Bias:</strong> The principle of "garbage in, garbage out" applies. If the input data is biased or incomplete, the framework will reproduce and may even amplify existing injustices.</div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-amber-500 font-bold mr-3 mt-1">!</span>
                                <div><strong class="font-semibold text-gray-800">The Risk of Technocracy:</strong> The framework could be misused to give a veneer of scientific objectivity to political decisions, marginalizing public debate. It must be a decision-support tool, not a decision-making oracle.</div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-amber-500 font-bold mr-3 mt-1">!</span>
                                <div><strong class="font-semibold text-gray-800">Simplification of Justice:</strong> Capturing the complex concept of "justice" in a mathematical formula is inherently a simplification. This Rawlsian model is one of many possible approaches to defining fairness.</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p>This interactive explainer is based on the conceptual paper "Reflections on Data and Justice Theory."</p>
            <p class="text-sm text-gray-400 mt-2">Designed to make complex academic concepts accessible and engaging.</p>
        </div>
    </footer>


<script>
document.addEventListener('DOMContentLoaded', function() {
    
    // Data for the concept bridge
    const concepts = [
        {
            id: 'veil',
            name: 'The Veil of Ignorance',
            title: 'Computational Analogue: Bayesian Prior',
            description: 'The "veil of ignorance" is a thought experiment where individuals choose principles for society without knowing their own place in it. This state of impartiality is computationally modeled as a <strong>Bayesian prior distribution</strong>, which assigns an equal probability to occupying any possible social or economic position. The simulation starts from this unbiased state.',
        },
        {
            id: 'policy',
            name: 'Policy as New Information',
            title: 'Computational Analogue: Bayesian Update',
            description: 'A proposed policy (e.g., a tax change) is treated as new evidence. <strong>Bayes\'s theorem</strong> is used to update the initial "prior" belief, producing a "posterior" distribution. This posterior shows the likely societal outcomes *after* the policy is applied, effectively simulating the "lifting of the veil" to see the consequences.',
        },
        {
            id: 'equilibrium',
            name: 'Reflective Equilibrium',
            title: 'Computational Analogue: Iterative Optimization',
            description: 'Rawls\'s idea of refining moral principles until they are stable is computationally mirrored by optimization algorithms like <strong>stochastic gradient descent</strong>. The model iteratively adjusts policy parameters, simulates the outcome, and evaluates it against a "cost function" representing justice. The process finds a stable policy that is maximally just according to the defined principles.',
        },
        {
            id: 'justice',
            name: 'The Difference Principle',
            title: 'Computational Analogue: The Cost Function',
            description: 'Rawls\'s principle that inequalities are only justified if they benefit the least-advantaged is mathematically encoded as a <strong>cost function</strong>. The goal of the optimization algorithm is to find a policy that minimizes this cost—in other words, to find the policy that most improves the welfare of the worst-off group in the simulation. This makes the ethical goal explicit and quantifiable.',
        }
    ];

    const conceptsList = document.getElementById('concepts-list');
    const conceptDetails = document.getElementById('concept-details');

    concepts.forEach((concept, index) => {
        const button = document.createElement('button');
        button.className = 'concept-btn w-full text-left p-4 rounded-lg border-2 border-gray-200 bg-white';
        button.textContent = concept.name;
        button.dataset.conceptId = concept.id;
        if (index === 0) {
            button.classList.add('active');
        }
        conceptsList.appendChild(button);
    });
    
    function displayConcept(conceptId) {
        const concept = concepts.find(c => c.id === conceptId);
        conceptDetails.innerHTML = `
            <h5 class="font-bold text-xl mb-3 text-teal-700">${concept.title}</h5>
            <p class="text-lg text-gray-700 leading-relaxed">${concept.description}</p>
        `;
        document.querySelectorAll('.concept-btn').forEach(btn => {
            btn.classList.toggle('active', btn.dataset.conceptId === conceptId);
        });
    }

    conceptsList.addEventListener('click', (e) => {
        if (e.target.tagName === 'BUTTON') {
            displayConcept(e.target.dataset.conceptId);
        }
    });

    displayConcept('veil');

    // Chart.js Simulation
    const ubiSlider = document.getElementById('ubi-slider');
    const taxSlider = document.getElementById('tax-slider');
    const ubiValue = document.getElementById('ubi-value');
    const taxValue = document.getElementById('tax-value');
    const justiceScoreEl = document.getElementById('justice-score');
    const simulationContextEl = document.getElementById('simulation-context');

    const chartOptions = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: {
                display: false
            }
        },
        scales: {
            y: {
                beginAtZero: true,
                ticks: {
                    color: '#6b7280'
                },
                 grid: {
                    color: '#e5e7eb'
                }
            },
            x: {
                 ticks: {
                    color: '#6b7280'
                },
                 grid: {
                    display: false
                }
            }
        }
    };
    
    let welfareChart, societalChart;

    function createCharts() {
        const welfareCtx = document.getElementById('welfareChart').getContext('2d');
        welfareChart = new Chart(welfareCtx, {
            type: 'bar',
            data: {
                labels: ['Before', 'After Policy'],
                datasets: [{
                    label: 'Welfare Units',
                    data: [20, 45],
                    backgroundColor: ['#fca5a5', '#4ade80'],
                    borderColor: ['#ef4444', '#22c55e'],
                    borderWidth: 2
                }]
            },
            options: chartOptions
        });

        const societalCtx = document.getElementById('societalChart').getContext('2d');
        societalChart = new Chart(societalCtx, {
            type: 'bar',
            data: {
                labels: ['Before', 'After Policy'],
                datasets: [{
                    label: 'Welfare Units',
                    data: [60, 55],
                    backgroundColor: ['#93c5fd', '#fcd34d'],
                    borderColor: ['#3b82f6', '#f59e0b'],
                    borderWidth: 2
                }]
            },
            options: chartOptions
        });
    }

    function updateSimulation() {
        const ubi = parseFloat(ubiSlider.value);
        const tax = parseFloat(taxSlider.value);

        ubiValue.textContent = ubi.toFixed(0);
        taxValue.textContent = tax.toFixed(1);

        // Simple simulation logic
        const baseWelfareWorstOff = 20;
        const baseWelfareSociety = 80;

        // UBI directly helps the worst-off, tax slightly reduces overall average
        const newWelfareWorstOff = baseWelfareWorstOff + (ubi / 1500) * 80;
        const newWelfareSociety = baseWelfareSociety - (tax / 10) * 30 + (ubi/1500) * 10;
        
        // The "cost function" output - heavily weighted towards improving the worst-off
        const justiceScore = Math.max(0, Math.min(100, (newWelfareWorstOff / 100) * 90 + (newWelfareSociety / 100) * 10));

        // Update charts
        welfareChart.data.datasets[0].data[1] = newWelfareWorstOff;
        welfareChart.update();

        societalChart.data.datasets[0].data[1] = newWelfareSociety;
        societalChart.update();
        
        // Animate the score
        const oldScore = parseFloat(justiceScoreEl.dataset.value) || 0;
        justiceScoreEl.dataset.value = justiceScore;
        const scoreChange = justiceScore - oldScore;

        let start = null;
        function animateScore(timestamp) {
            if (!start) start = timestamp;
            const progress = timestamp - start;
            const value = oldScore + (scoreChange * Math.min(progress / 500, 1));
            justiceScoreEl.textContent = value.toFixed(0);
            if (progress < 500) {
                window.requestAnimationFrame(animateScore);
            }
        }
        window.requestAnimationFrame(animateScore);

        // Update context text
        if (justiceScore > 85) {
            simulationContextEl.textContent = "This policy creates a substantial improvement for the least advantaged, yielding a high justice score.";
        } else if (justiceScore > 60) {
            simulationContextEl.textContent = "This policy provides a moderate boost to the least advantaged.";
        } else {
            simulationContextEl.textContent = "This policy offers minimal improvement for the least advantaged, resulting in a lower justice score.";
        }
    }
    
    ubiSlider.addEventListener('input', updateSimulation);
    taxSlider.addEventListener('input', updateSimulation);

    // Tabbed interface for implications
    const tabButtons = document.querySelectorAll('.tab-btn');
    const contentPanes = document.querySelectorAll('.content-pane');

    tabButtons.forEach(button => {
        button.addEventListener('click', () => {
            const tab = button.dataset.tab;

            tabButtons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');

            contentPanes.forEach(pane => {
                pane.classList.toggle('active', pane.id === `${tab}-content`);
            });
        });
    });

    // Initialize tabs and simulation
    document.querySelector('.tab-btn[data-tab="significance"]').click();
    createCharts();
    updateSimulation();


    // Smooth scroll and active nav link highlighting
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('main section');

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => {
                    link.classList.toggle('active', link.getAttribute('href').substring(1) === entry.target.id);
                });
            }
        });
    }, { rootMargin: "-50% 0px -50% 0px" });

    sections.forEach(section => {
        observer.observe(section);
    });

});
</script>

</body>
</html>